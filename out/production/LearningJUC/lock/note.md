### 非互斥同步锁
- 互斥同步锁的劣势
    - 阻塞和唤醒带来的性能劣势
    - 永久阻塞: 持有锁的线程被永久阻塞, 如无线循环、死锁等活跃性问题
    - 优先级反转 
- 使用场景
    - 悲观锁: 并发写入多的情况, 适用于临界区持锁时间较长的情况,悲观锁可以避免大量的无用自旋等消耗
        - 临界区有IO操作
        - 临界区代码**复杂**或者循环量大
        - 临界区竞争非常激烈
    - 乐观锁: 并发写入少, 大部分是读取的场景,不加锁的能让读取性能大幅提高. 
    
    
### 非公平锁
- 提高效率,避免唤醒带来的空档期


### Java虚拟机对锁的优化
- 自旋锁和自适应
- 锁消除
- 锁粗化

### 我们如何优化锁
1. 缩小同步代码块
2. 尽量不要锁住方法
3. 减少锁的次数
4. 避免人为制造“热点”
5. 锁中尽量不要再包含锁
6. 选择合适的类型或合适的工具类
